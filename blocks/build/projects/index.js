(()=>{"use strict";var e,r={423(){const e=window.wp.blocks,r=window.wp.blockEditor,s=window.wp.components,o=window.wp.i18n,a=window.wp.data,l=window.ReactJSXRuntime;(0,e.registerBlockType)("pryvus/projects",{edit:({attributes:e,setAttributes:t})=>{const{sectionLabel:n,heading:c,viewAllText:i,viewAllUrl:d,numberOfPosts:p,categoryId:h,backgroundColor:u,cardBackground:g,cardBorderColor:v,cardBorderWidth:j,hasHover:m,showFeaturedImage:x,showCategory:y,showMetric:b}=e,_=(0,r.useBlockProps)({className:"pryvus-projects-block",style:{backgroundColor:u}}),{projects:C,isLoading:w}=(0,a.useSelect)(e=>{const{getEntityRecords:r,isResolving:s}=e("core"),o={per_page:p,_embed:!0,status:"publish"};return h>0&&(o.categories=h),{projects:r("postType","post",o),isLoading:s("getEntityRecords",["postType","post",o])}},[p,h]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.InspectorControls,{children:[(0,l.jsxs)(s.PanelBody,{title:(0,o.__)("Content Settings","pryvus-2026"),initialOpen:!0,children:[(0,l.jsx)(s.TextControl,{label:(0,o.__)("Section Label","pryvus-2026"),value:n,onChange:e=>t({sectionLabel:e})}),(0,l.jsx)(s.TextControl,{label:(0,o.__)("Heading","pryvus-2026"),value:c,onChange:e=>t({heading:e})}),(0,l.jsx)(s.TextControl,{label:(0,o.__)('"View All" Link Text',"pryvus-2026"),value:i,onChange:e=>t({viewAllText:e})}),(0,l.jsx)(s.TextControl,{label:(0,o.__)('"View All" Link URL',"pryvus-2026"),value:d,onChange:e=>t({viewAllUrl:e})}),(0,l.jsx)(s.SelectControl,{label:(0,o.__)("Category","pryvus-2026"),value:h,options:[{label:"All Categories",value:0},{label:"Projects",value:8},{label:"Uncategorized",value:1}],onChange:e=>t({categoryId:parseInt(e)}),help:(0,o.__)("Filter posts by category","pryvus-2026")}),(0,l.jsx)(s.RangeControl,{label:(0,o.__)("Number of Projects","pryvus-2026"),value:p,onChange:e=>t({numberOfPosts:e}),min:1,max:12,step:1})]}),(0,l.jsxs)(s.PanelBody,{title:(0,o.__)("Display Options","pryvus-2026"),initialOpen:!1,children:[(0,l.jsx)(s.ToggleControl,{label:(0,o.__)("Show Featured Image","pryvus-2026"),checked:x,onChange:e=>t({showFeaturedImage:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,o.__)("Show Tags","pryvus-2026"),checked:y,onChange:e=>t({showCategory:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,o.__)("Show Result Metric","pryvus-2026"),checked:b,onChange:e=>t({showMetric:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,o.__)("Enable Hover Effect","pryvus-2026"),checked:m,onChange:e=>t({hasHover:e})})]}),(0,l.jsx)(s.PanelBody,{title:(0,o.__)("Block Style","pryvus-2026"),initialOpen:!1,children:(0,l.jsx)(r.PanelColorSettings,{title:(0,o.__)("Background Color","pryvus-2026"),colorSettings:[{value:u,onChange:e=>t({backgroundColor:e}),label:(0,o.__)("Block Background","pryvus-2026")}]})}),(0,l.jsxs)(s.PanelBody,{title:(0,o.__)("Card Style","pryvus-2026"),initialOpen:!1,children:[(0,l.jsx)(r.PanelColorSettings,{title:(0,o.__)("Background","pryvus-2026"),colorSettings:[{value:g,onChange:e=>t({cardBackground:e}),label:(0,o.__)("Card Background","pryvus-2026")}]}),(0,l.jsx)(r.PanelColorSettings,{title:(0,o.__)("Border Color","pryvus-2026"),colorSettings:[{value:v,onChange:e=>t({cardBorderColor:e}),label:(0,o.__)("Card Border Color","pryvus-2026")}]}),(0,l.jsx)(s.RangeControl,{label:(0,o.__)("Card Border Width (px)","pryvus-2026"),value:j,onChange:e=>t({cardBorderWidth:e}),min:0,max:10,step:1})]})]}),(0,l.jsxs)("div",{..._,children:[(0,l.jsxs)("div",{className:"projects-header",children:[(0,l.jsxs)("div",{className:"projects-header-left",children:[n&&(0,l.jsx)("div",{className:"projects-label",children:n}),c&&(0,l.jsx)("h2",{className:"projects-heading",children:c})]}),i&&(0,l.jsxs)("a",{href:d,className:"projects-view-all",children:[i," →"]})]}),(0,l.jsxs)("div",{className:"projects-container",children:[w&&(0,l.jsx)("div",{className:"projects-loading",children:(0,l.jsx)(s.Spinner,{})}),!w&&C&&C.length>0&&C.map(e=>{const r=e._embedded?.["wp:featuredmedia"]?.[0],s=e._embedded?.["wp:term"]?.[1]||[];return(0,l.jsxs)("div",{className:"project-card "+(m?"hover-style":""),style:{background:g,borderColor:v,borderWidth:`${j}px`,borderStyle:j>0?"solid":"none"},children:[x&&r&&(0,l.jsx)("div",{className:"project-image",children:(0,l.jsx)("img",{src:r.media_details?.sizes?.medium?.source_url||r.source_url,alt:r.alt_text||e.title.rendered})}),(0,l.jsxs)("div",{className:"project-content",children:[y&&s.length>0&&(0,l.jsx)("div",{className:"project-categories",children:s.slice(0,3).map(e=>(0,l.jsx)("span",{className:"project-category",children:e.name},e.id))}),(0,l.jsx)("h3",{className:"project-title",dangerouslySetInnerHTML:{__html:e.title.rendered}}),(0,l.jsx)("div",{className:"project-excerpt",dangerouslySetInnerHTML:{__html:e.excerpt.rendered}}),b&&e.meta?.result_metric&&(0,l.jsx)("div",{className:"project-metric",children:e.meta.result_metric})]})]},e.id)}),!w&&(!C||0===C.length)&&(0,l.jsx)("div",{className:"projects-empty",children:(0,l.jsx)("p",{children:(0,o.__)("No projects found. Create some posts to display here.","pryvus-2026")})})]})]})]})},save:({attributes:e})=>{const{sectionLabel:s,heading:o,viewAllText:a,viewAllUrl:t,numberOfPosts:n,categoryId:c,backgroundColor:i,cardBackground:d,cardBorderColor:p,cardBorderWidth:h,hasHover:u,showFeaturedImage:g,showCategory:v,showMetric:j}=e,m=r.useBlockProps.save({className:"pryvus-projects-block",style:{backgroundColor:i}});return(0,l.jsxs)("div",{...m,"data-posts":n,"data-category-id":c,"data-card-background":d,"data-card-border-color":p,"data-card-border-width":h,"data-has-hover":u,"data-show-featured-image":g,"data-show-category":v,"data-show-metric":j,children:[(0,l.jsxs)("div",{className:"projects-header",children:[(0,l.jsxs)("div",{className:"projects-header-left",children:[s&&(0,l.jsx)("div",{className:"projects-label",children:s}),o&&(0,l.jsx)("h2",{className:"projects-heading",children:o})]}),a&&(0,l.jsxs)("a",{href:t,className:"projects-view-all",children:[a," →"]})]}),(0,l.jsx)("div",{className:"projects-container"})]})}})}},s={};function o(e){var a=s[e];if(void 0!==a)return a.exports;var l=s[e]={exports:{}};return r[e](l,l.exports,o),l.exports}o.m=r,e=[],o.O=(r,s,a,l)=>{if(!s){var t=1/0;for(d=0;d<e.length;d++){for(var[s,a,l]=e[d],n=!0,c=0;c<s.length;c++)(!1&l||t>=l)&&Object.keys(o.O).every(e=>o.O[e](s[c]))?s.splice(c--,1):(n=!1,l<t&&(t=l));if(n){e.splice(d--,1);var i=a();void 0!==i&&(r=i)}}return r}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,a,l]},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};o.O.j=r=>0===e[r];var r=(r,s)=>{var a,l,[t,n,c]=s,i=0;if(t.some(r=>0!==e[r])){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(c)var d=c(o)}for(r&&r(s);i<t.length;i++)l=t[i],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},s=globalThis.webpackChunkpryvus_blocks=globalThis.webpackChunkpryvus_blocks||[];s.forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s))})();var a=o.O(void 0,[350],()=>o(423));a=o.O(a)})();